Jan  1 00:00:00 pghost postgres[70001]: [1-1] LOG: database system was shut down at 2024-12-31 23:59:58 CET
Jan  1 00:00:00 pghost postgres[70001]: [2-1] LOG: database system is ready to accept connections
Jan  1 00:00:01 pghost postgres[70002]: [1-1] LOG: autovacuum launcher started
Jan  1 00:00:15 pghost postgres[70010]: [1-1] LOG: connection received: host=192.168.1.100 port=5432
Jan  1 00:00:15 pghost postgres[70010]: [2-1] user=app_user,db=app_db,app=pgadmin LOG: connection authorized: user=app_user database=app_db
Jan  1 00:00:16 pghost postgres[70010]: [3-1] user=app_user,db=app_db,app=pgadmin LOG: duration: 45.23 ms statement: SELECT version();
Jan  1 00:00:20 pghost postgres[70011]: [1-1] LOG: connection received: host=192.168.1.101 port=5432
Jan  1 00:00:20 pghost postgres[70011]: [2-1] user=readonly,db=app_db,app=psql LOG: connection authorized: user=readonly database=app_db
Jan  1 00:00:35 pghost postgres[70012]: [1-1] LOG: connection received: host=10.0.1.50 port=5432
Jan  1 00:00:35 pghost postgres[70012]: [2-1] user=analytics,db=analytics_db,app=metabase LOG: connection authorized: user=analytics database=analytics_db
Jan  1 00:00:50 pghost postgres[70013]: [1-1] LOG: connection received: host=10.0.1.51 port=5432
Jan  1 00:00:50 pghost postgres[70013]: [2-1] user=batch_user,db=app_db,app=batch_job LOG: connection authorized: user=batch_user database=app_db
Jan  1 00:01:10 pghost postgres[70014]: [1-1] LOG: connection received: host=172.16.0.10 port=5432
Jan  1 00:01:10 pghost postgres[70014]: [2-1] user=app_user,db=app_db,app=app_server LOG: connection authorized: user=app_user database=app_db
Jan  1 00:01:25 pghost postgres[70015]: [1-1] LOG: connection received: host=172.16.0.11 port=5432
Jan  1 00:01:25 pghost postgres[70015]: [2-1] user=app_user,db=app_db,app=app_server LOG: connection authorized: user=app_user database=app_db
Jan  1 00:01:40 pghost postgres[70016]: [1-1] LOG: connection received: host=172.16.0.12 port=5432
Jan  1 00:01:40 pghost postgres[70016]: [2-1] user=app_user,db=app_db,app=app_server LOG: connection authorized: user=app_user database=app_db
Jan  1 00:02:00 pghost postgres[70017]: [1-1] LOG: connection received: host=192.168.1.200 port=5432
Jan  1 00:02:00 pghost postgres[70017]: [2-1] user=backup_user,db=postgres,app=pg_dump LOG: connection authorized: user=backup_user database=postgres
Jan  1 00:05:00 pghost postgres[70020]: [1-1] user=app_user,db=app_db,app=app_server LOG: duration: 1250.32 ms statement: SELECT * FROM users WHERE id = 42;
Jan  1 00:05:01 pghost postgres[70020]: [2-1] user=app_user,db=app_db,app=app_server LOG: duration: 89.45 ms statement: SELECT * FROM orders WHERE user_id = 42 ORDER BY created_at DESC LIMIT 10;
Jan  1 00:05:02 pghost postgres[70021]: [1-1] user=app_user,db=app_db,app=app_server LOG: duration: 432.17 ms statement: UPDATE orders SET status = 'shipped' WHERE id = 1234;
Jan  1 00:07:30 pghost postgres[70022]: [1-1] user=readonly LOG: disconnection: session time: 0:07:10.234 user=readonly database=app_db host=192.168.1.101 port=5432
Jan  1 00:10:00 pghost postgres[70030]: [1-1] LOG: automatic vacuum of table "app_db.public.orders": index scans: 1 pages: 0 removed, 1024 remain, 0 skipped due to pins, 0 skipped frozen tuples: 512 removed, 10240 remain, 0 are dead but not yet removable buffer usage: 2048 hits, 256 misses, 128 dirtied avg read rate: 2.048 MB/s, avg write rate: 1.024 MB/s system usage: CPU: user: 0.50 s, system: 0.10 s, elapsed: 5.00 s
Jan  1 00:10:06 pghost postgres[70030]: [2-1] LOG: automatic analyze of table "app_db.public.orders"
Jan  1 00:12:15 pghost postgres[70023]: [1-1] LOG: connection received: host=192.168.1.102 port=5432
Jan  1 00:12:15 pghost postgres[70023]: [2-1] user=admin,db=postgres,app=psql LOG: connection authorized: user=admin database=postgres
Jan  1 00:15:00 pghost postgres[70040]: [1-1] user=app_user,db=app_db,app=app_server LOG: duration: 2150.88 ms statement: SELECT u.id, u.name, COUNT(o.id) as order_count, SUM(o.total) as total_spent FROM users u LEFT JOIN orders o ON u.id = o.user_id WHERE u.created_at > '2024-01-01' GROUP BY u.id, u.name ORDER BY total_spent DESC LIMIT 100;
Jan  1 00:15:03 pghost postgres[70041]: [1-1] LOG: temporary file: path "base/16384/pgsql_tmp70041.0", size 52428800
Jan  1 00:15:04 pghost postgres[70041]: [2-1] user=analytics,db=analytics_db,app=tableau LOG: duration: 8945.67 ms statement: SELECT date_trunc('hour', created_at) as hour, COUNT(*) as count, AVG(total) as avg_total FROM orders WHERE created_at > NOW() - INTERVAL '7 days' GROUP BY hour ORDER BY hour;
Jan  1 00:18:45 pghost postgres[70024]: [1-1] LOG: connection received: host=10.0.2.30 port=5432
Jan  1 00:18:45 pghost postgres[70024]: [2-1] user=readonly,db=analytics_db,app=tableau LOG: connection authorized: user=readonly database=analytics_db
Jan  1 00:20:00 pghost postgres[70050]: [1-1] user=app_user,db=app_db,app=pgadmin ERROR: duplicate key value violates unique constraint "idx_users_email"
Jan  1 00:20:00 pghost postgres[70050]: [2-1] user=app_user,db=app_db,app=pgadmin DETAIL: Key (email)=(test@example.com) already exists.
Jan  1 00:20:00 pghost postgres[70050]: [3-1] user=app_user,db=app_db,app=pgadmin STATEMENT: INSERT INTO users (email, name) VALUES ('test@example.com', 'John Doe');
Jan  1 00:22:30 pghost postgres[70025]: [1-1] LOG: connection received: host=172.16.0.20 port=5432
Jan  1 00:22:30 pghost postgres[70025]: [2-1] user=app_user,db=app_db,app=python_script LOG: connection authorized: user=app_user database=app_db
Jan  1 00:25:00 pghost postgres[70060]: [1-1] user=app_user,db=app_db,app=app_server LOG: duration: 67.89 ms statement: INSERT INTO sessions (user_id, token, expires_at) VALUES (42, 'abc123', '2025-01-02 00:25:00');
Jan  1 00:28:15 pghost postgres[70026]: [1-1] LOG: connection received: host=192.168.1.150 port=5432
Jan  1 00:28:15 pghost postgres[70026]: [2-1] user=readonly,db=app_db,app=reporting_tool LOG: connection authorized: user=readonly database=app_db
Jan  1 00:30:00 pghost postgres[70070]: [1-1] LOG: checkpoint starting: time
Jan  1 00:30:05 pghost postgres[70070]: [2-1] LOG: checkpoint complete: wrote 1024 buffers (6.3%); 0 WAL file(s) added, 0 removed, 1 recycled; write=4.500 s, sync=0.250 s, total=5.000 s; sync files=8, longest=0.125 s, average=0.031 s; distance=8192 kB, estimate=8192 kB; lsn=0/1A000028, redo lsn=0/19FFFFF8
Jan  1 00:33:20 pghost postgres[70027]: [1-1] user=app_user LOG: disconnection: session time: 0:31:05.567 user=app_user database=app_db host=192.168.1.100 port=5432
Jan  1 00:35:00 pghost postgres[70080]: [1-1] user=batch_user,db=app_db,app=batch_job LOG: duration: 15234.56 ms statement: UPDATE products SET stock = stock - orders_temp.quantity FROM (SELECT product_id, SUM(quantity) as quantity FROM order_items WHERE order_id IN (SELECT id FROM orders WHERE status = 'pending')) as orders_temp WHERE products.id = orders_temp.product_id;
Jan  1 00:35:16 pghost postgres[70080]: [2-1] LOG: temporary file: path "base/16384/pgsql_tmp70080.0", size 104857600
Jan  1 00:35:18 pghost postgres[70080]: [3-1] LOG: temporary file: path "base/16384/pgsql_tmp70080.1", size 25165824
Jan  1 00:38:00 pghost postgres[70028]: [1-1] LOG: connection received: host=10.0.1.80 port=5432
Jan  1 00:38:00 pghost postgres[70028]: [2-1] user=analytics,db=analytics_db,app=python_script LOG: connection authorized: user=analytics database=analytics_db
Jan  1 00:40:00 pghost postgres[70090]: [1-1] user=app_user,db=app_db,app=app_server LOG: duration: 156.23 ms statement: SELECT id, name, email FROM users WHERE last_login > NOW() - INTERVAL '1 day' ORDER BY last_login DESC;
Jan  1 00:42:45 pghost postgres[70029]: [1-1] LOG: connection received: host=172.16.0.30 port=5432
Jan  1 00:42:45 pghost postgres[70029]: [2-1] user=app_user,db=app_db,app=app_server LOG: connection authorized: user=app_user database=app_db
Jan  1 00:45:00 pghost postgres[70100]: [1-1] user=app_user,db=app_db,app=psql WARNING: there is already a transaction in progress
Jan  1 00:45:00 pghost postgres[70100]: [2-1] user=app_user,db=app_db,app=psql LOG: duration: 234.56 ms statement: BEGIN;
Jan  1 00:47:30 pghost postgres[70030]: [1-1] user=analytics LOG: disconnection: session time: 1:17:45.123 user=analytics database=analytics_db host=10.0.1.50 port=5432
Jan  1 00:50:00 pghost postgres[70110]: [1-1] LOG: automatic vacuum of table "app_db.public.sessions": index scans: 2 pages: 128 removed, 256 remain, 0 skipped due to pins, 0 skipped frozen tuples: 2048 removed, 5120 remain, 512 are dead but not yet removable buffer usage: 512 hits, 64 misses, 32 dirtied avg read rate: 0.512 MB/s, avg write rate: 0.256 MB/s system usage: CPU: user: 0.25 s, system: 0.05 s, elapsed: 2.50 s
Jan  1 00:52:00 pghost postgres[70031]: [1-1] LOG: connection received: host=192.168.1.103 port=5432
Jan  1 00:52:00 pghost postgres[70031]: [2-1] user=app_user,db=app_db,app=app_server LOG: connection authorized: user=app_user database=app_db
Jan  1 00:55:15 pghost postgres[70032]: [1-1] user=admin LOG: disconnection: session time: 0:42:45.890 user=admin database=postgres host=192.168.1.102 port=5432
Jan  1 01:00:00 pghost postgres[70120]: [1-1] LOG: checkpoint starting: xlog
Jan  1 01:00:04 pghost postgres[70120]: [2-1] LOG: checkpoint complete: wrote 512 buffers (3.1%); 0 WAL file(s) added, 1 removed, 0 recycled; write=2.800 s, sync=0.150 s, total=4.000 s; sync files=5, longest=0.080 s, average=0.030 s; distance=4096 kB, estimate=7372 kB; lsn=0/1E000028, redo lsn=0/1DFFFFF8
Jan  1 01:02:30 pghost postgres[70033]: [1-1] LOG: connection received: host=10.0.2.40 port=5432
Jan  1 01:02:30 pghost postgres[70033]: [2-1] user=readonly,db=analytics_db,app=metabase LOG: connection authorized: user=readonly database=analytics_db
Jan  1 01:05:00 pghost postgres[70130]: [1-1] user=readonly,db=app_db,app=metabase LOG: duration: 5678.90 ms statement: SELECT date_trunc('day', o.created_at) as day, p.category, COUNT(DISTINCT o.id) as order_count, SUM(oi.quantity * oi.price) as revenue FROM orders o JOIN order_items oi ON o.id = oi.order_id JOIN products p ON oi.product_id = p.id WHERE o.created_at > NOW() - INTERVAL '30 days' GROUP BY day, p.category ORDER BY day DESC, revenue DESC;
Jan  1 01:08:45 pghost postgres[70034]: [1-1] LOG: temporary file: path "base/16384/pgsql_tmp70034.0", size 78643200
Jan  1 01:08:50 pghost postgres[70034]: [2-1] user=analytics,db=analytics_db,app=python_script LOG: duration: 6234.56 ms statement: SELECT product_id, COUNT(*) as view_count, AVG(duration) as avg_duration FROM product_views WHERE timestamp > NOW() - INTERVAL '7 days' GROUP BY product_id ORDER BY view_count DESC;
Jan  1 01:10:00 pghost postgres[70140]: [1-1] user=app_user,db=app_db,app=app_server LOG: duration: 89.12 ms statement: DELETE FROM sessions WHERE expires_at < NOW();
Jan  1 01:12:20 pghost postgres[70035]: [1-1] LOG: connection received: host=172.16.0.40 port=5432
Jan  1 01:12:20 pghost postgres[70035]: [2-1] user=app_user,db=app_db,app=app_server LOG: connection authorized: user=app_user database=app_db
Jan  1 01:15:30 pghost postgres[70036]: [1-1] user=readonly LOG: disconnection: session time: 0:47:30.123 user=readonly database=analytics_db host=10.0.2.30 port=5432
Jan  1 01:18:00 pghost postgres[70037]: [1-1] LOG: connection received: host=192.168.1.104 port=5432
Jan  1 01:18:00 pghost postgres[70037]: [2-1] user=readonly,db=app_db,app=reporting_tool LOG: connection authorized: user=readonly database=app_db
Jan  1 01:20:00 pghost postgres[70160]: [1-1] user=app_user,db=app_db,app=app_server ERROR: deadlock detected
Jan  1 01:20:00 pghost postgres[70160]: [2-1] user=app_user,db=app_db,app=app_server DETAIL: Process 70160 waits for ShareLock on transaction 12345; blocked by process 70161. Process 70161 waits for ShareLock on transaction 12346; blocked by process 70160. Process 70160: UPDATE orders SET status = 'processing' WHERE id = 100; Process 70161: UPDATE orders SET status = 'processing' WHERE id = 101;
Jan  1 01:20:00 pghost postgres[70160]: [3-1] user=app_user,db=app_db,app=app_server HINT: See server log for query details.
Jan  1 01:20:00 pghost postgres[70160]: [4-1] user=app_user,db=app_db,app=app_server STATEMENT: UPDATE orders SET status = 'processing' WHERE id = 100;
Jan  1 01:23:45 pghost postgres[70038]: [1-1] user=batch_user LOG: disconnection: session time: 1:21:45.678 user=batch_user database=app_db host=10.0.1.51 port=5432
Jan  1 01:25:00 pghost postgres[70170]: [1-1] LOG: temporary file: path "base/16384/pgsql_tmp70170.0", size 209715200
Jan  1 01:25:02 pghost postgres[70170]: [2-1] LOG: temporary file: path "base/16384/pgsql_tmp70170.1", size 41943040
Jan  1 01:25:10 pghost postgres[70170]: [3-1] user=analytics,db=analytics_db,app=python_script LOG: duration: 12345.67 ms statement: CREATE TEMPORARY TABLE tmp_aggregates AS SELECT user_id, DATE(created_at) as date, COUNT(*) as event_count FROM events WHERE created_at > NOW() - INTERVAL '90 days' GROUP BY user_id, DATE(created_at);
Jan  1 01:28:30 pghost postgres[70039]: [1-1] LOG: connection received: host=10.0.1.90 port=5432
Jan  1 01:28:30 pghost postgres[70039]: [2-1] user=batch_user,db=app_db,app=batch_job LOG: connection authorized: user=batch_user database=app_db
Jan  1 01:30:00 pghost postgres[70180]: [1-1] LOG: checkpoint starting: time
Jan  1 01:30:07 pghost postgres[70180]: [2-1] LOG: checkpoint complete: wrote 2048 buffers (12.5%); 1 WAL file(s) added, 0 removed, 1 recycled; write=6.200 s, sync=0.650 s, total=7.000 s; sync files=12, longest=0.220 s, average=0.054 s; distance=16384 kB, estimate=16384 kB; lsn=0/2E000028, redo lsn=0/2DFFFFF8
Jan  1 01:35:40 pghost postgres[70040]: [1-1] user=app_user LOG: disconnection: session time: 1:33:40.234 user=app_user database=app_db host=172.16.0.10 port=5432
Jan  1 01:38:15 pghost postgres[70041]: [1-1] LOG: connection received: host=172.16.0.50 port=5432
Jan  1 01:38:15 pghost postgres[70041]: [2-1] user=app_user,db=app_db,app=app_server LOG: connection authorized: user=app_user database=app_db
Jan  1 01:42:00 pghost postgres[70042]: [1-1] LOG: temporary file: path "base/16384/pgsql_tmp70042.0", size 156237824
Jan  1 01:42:08 pghost postgres[70042]: [2-1] user=analytics,db=analytics_db,app=python_script LOG: duration: 9876.54 ms statement: SELECT category, subcategory, COUNT(*) as product_count, AVG(price) as avg_price FROM products WHERE active = true GROUP BY category, subcategory ORDER BY category, product_count DESC;
Jan  1 01:45:30 pghost postgres[70043]: [1-1] user=readonly LOG: disconnection: session time: 0:56:45.123 user=readonly database=app_db host=192.168.1.150 port=5432
Jan  1 02:00:00 pghost postgres[70190]: [1-1] LOG: automatic analyze of table "app_db.public.products"
Jan  1 02:00:00 pghost postgres[70191]: [1-1] LOG: checkpoint starting: xlog
Jan  1 02:00:05 pghost postgres[70191]: [2-1] LOG: checkpoint complete: wrote 896 buffers (5.5%); 0 WAL file(s) added, 1 removed, 1 recycled; write=4.200 s, sync=0.600 s, total=5.000 s; sync files=7, longest=0.190 s, average=0.086 s; distance=7168 kB, estimate=15461 kB; lsn=0/35000028, redo lsn=0/34FFFFF8
Jan  1 02:03:15 pghost postgres[70044]: [1-1] LOG: connection received: host=192.168.1.105 port=5432
Jan  1 02:03:15 pghost postgres[70044]: [2-1] user=admin,db=postgres,app=psql LOG: connection authorized: user=admin database=postgres
Jan  1 02:05:00 pghost postgres[70200]: [1-1] user=batch_user,db=app_db,app=batch_job LOG: duration: 299.99 ms statement: DELETE FROM audit_logs WHERE created_at < NOW() - INTERVAL '90 days';
Jan  1 02:08:45 pghost postgres[70045]: [1-1] user=app_user LOG: disconnection: session time: 2:06:45.789 user=app_user database=app_db host=172.16.0.11 port=5432
Jan  1 02:12:30 pghost postgres[70046]: [1-1] LOG: connection received: host=172.16.0.60 port=5432
Jan  1 02:12:30 pghost postgres[70046]: [2-1] user=app_user,db=app_db,app=app_server LOG: connection authorized: user=app_user database=app_db
Jan  1 02:15:00 pghost postgres[70047]: [1-1] LOG: temporary file: path "base/16384/pgsql_tmp70047.0", size 94371840
Jan  1 02:15:00 pghost postgres[70047]: [2-1] LOG: temporary file: path "base/16384/pgsql_tmp70047.1", size 62914560
Jan  1 02:15:00 pghost postgres[70047]: [3-1] LOG: temporary file: path "base/16384/pgsql_tmp70047.2", size 31457280
Jan  1 02:15:12 pghost postgres[70047]: [4-1] user=analytics,db=analytics_db,app=python_script LOG: duration: 14567.89 ms statement: WITH user_segments AS ( SELECT user_id, CASE WHEN total_orders > 100 THEN 'vip' WHEN total_orders > 10 THEN 'regular' ELSE 'occasional' END as segment FROM (SELECT user_id, COUNT(*) as total_orders FROM orders GROUP BY user_id) sq ) SELECT segment, COUNT(*) as user_count, AVG(total_spent) as avg_spent FROM user_segments us JOIN (SELECT user_id, SUM(total) as total_spent FROM orders GROUP BY user_id) os ON us.user_id = os.user_id GROUP BY segment;
Jan  1 02:20:15 pghost postgres[70048]: [1-1] user=app_user LOG: disconnection: session time: 0:37:45.234 user=app_user database=app_db host=172.16.0.30 port=5432
Jan  1 02:25:00 pghost postgres[70049]: [1-1] LOG: connection received: host=10.0.2.50 port=5432
Jan  1 02:25:00 pghost postgres[70049]: [2-1] user=readonly,db=analytics_db,app=tableau LOG: connection authorized: user=readonly database=analytics_db
Jan  1 02:30:00 pghost postgres[70210]: [1-1] LOG: checkpoint starting: time
Jan  1 02:30:05 pghost postgres[70210]: [2-1] LOG: checkpoint complete: wrote 768 buffers (4.7%); 0 WAL file(s) added, 0 removed, 1 recycled; write=4.100 s, sync=0.800 s, total=5.000 s; sync files=6, longest=0.350 s, average=0.133 s; distance=6144 kB, estimate=14529 kB; lsn=0/3B000028, redo lsn=0/3AFFFFF8
Jan  1 02:35:45 pghost postgres[70050]: [1-1] user=app_user LOG: disconnection: session time: 1:52:45.567 user=app_user database=app_db host=172.16.0.12 port=5432
Jan  1 02:40:00 pghost postgres[70051]: [1-1] LOG: connection received: host=172.16.0.70 port=5432
Jan  1 02:40:00 pghost postgres[70051]: [2-1] user=app_user,db=app_db,app=app_server LOG: connection authorized: user=app_user database=app_db
Jan  1 02:45:30 pghost postgres[70052]: [1-1] LOG: temporary file: path "base/16384/pgsql_tmp70052.0", size 125829120
Jan  1 02:45:40 pghost postgres[70052]: [2-1] user=analytics,db=analytics_db,app=python_script LOG: duration: 11234.56 ms statement: SELECT DATE(o.created_at) as order_date, p.category, SUM(oi.quantity * oi.price) as daily_revenue, COUNT(DISTINCT o.user_id) as unique_customers FROM orders o JOIN order_items oi ON o.id = oi.order_id JOIN products p ON oi.product_id = p.id WHERE o.created_at > NOW() - INTERVAL '90 days' GROUP BY order_date, p.category ORDER BY order_date DESC, daily_revenue DESC;
Jan  1 02:50:15 pghost postgres[70053]: [1-1] user=admin LOG: disconnection: session time: 0:47:30.890 user=admin database=postgres host=192.168.1.105 port=5432
Jan  1 03:00:00 pghost postgres[70220]: [1-1] LOG: checkpoint starting: time
Jan  1 03:00:06 pghost postgres[70220]: [2-1] LOG: checkpoint complete: wrote 1280 buffers (7.8%); 0 WAL file(s) added, 0 removed, 2 recycled; write=5.400 s, sync=0.450 s, total=6.000 s; sync files=9, longest=0.180 s, average=0.050 s; distance=10240 kB, estimate=13997 kB; lsn=0/45000028, redo lsn=0/44FFFFF8
Jan  1 03:05:30 pghost postgres[70054]: [1-1] LOG: connection received: host=192.168.1.106 port=5432
Jan  1 03:05:30 pghost postgres[70054]: [2-1] user=backup_user,db=postgres,app=pg_dump LOG: connection authorized: user=backup_user database=postgres
Jan  1 03:10:00 pghost postgres[70055]: [1-1] LOG: temporary file: path "base/16384/pgsql_tmp70055.0", size 83886080
Jan  1 03:10:09 pghost postgres[70055]: [2-1] user=batch_user,db=app_db,app=batch_job LOG: duration: 10123.45 ms statement: INSERT INTO monthly_reports (month, total_orders, total_revenue, avg_order_value) SELECT DATE_TRUNC('month', created_at) as month, COUNT(*) as total_orders, SUM(total) as total_revenue, AVG(total) as avg_order_value FROM orders WHERE created_at >= DATE_TRUNC('month', CURRENT_DATE - INTERVAL '1 month') AND created_at < DATE_TRUNC('month', CURRENT_DATE) GROUP BY month;
Jan  1 03:15:45 pghost postgres[70056]: [1-1] user=readonly LOG: disconnection: session time: 1:03:25.678 user=readonly database=analytics_db host=10.0.2.40 port=5432
Jan  1 03:20:00 pghost postgres[70057]: [1-1] LOG: connection received: host=10.0.2.60 port=5432
Jan  1 03:20:00 pghost postgres[70057]: [2-1] user=readonly,db=analytics_db,app=metabase LOG: connection authorized: user=readonly database=analytics_db
Jan  1 03:25:30 pghost postgres[70058]: [1-1] user=app_user LOG: disconnection: session time: 1:13:10.456 user=app_user database=app_db host=0:52:00.567 port=5432
Jan  1 03:30:00 pghost postgres[70230]: [1-1] LOG: checkpoint starting: time
Jan  1 03:30:04 pghost postgres[70230]: [2-1] LOG: checkpoint complete: wrote 640 buffers (3.9%); 0 WAL file(s) added, 0 removed, 1 recycled; write=3.500 s, sync=0.400 s, total=4.000 s; sync files=5, longest=0.180 s, average=0.080 s; distance=5120 kB, estimate=13110 kB; lsn=0/4A000028, redo lsn=0/49FFFFF8
Jan  1 03:35:00 pghost postgres[70059]: [1-1] LOG: connection received: host=172.16.0.80 port=5432
Jan  1 03:35:00 pghost postgres[70059]: [2-1] user=app_user,db=app_db,app=app_server LOG: connection authorized: user=app_user database=app_db
Jan  1 03:40:15 pghost postgres[70060]: [1-1] LOG: temporary file: path "base/16384/pgsql_tmp70060.0", size 67108864
Jan  1 03:40:21 pghost postgres[70060]: [2-1] user=analytics,db=analytics_db,app=python_script LOG: duration: 7890.12 ms statement: SELECT p.name, p.category, COUNT(DISTINCT oi.order_id) as times_ordered, SUM(oi.quantity) as total_quantity_sold, SUM(oi.quantity * oi.price) as total_revenue FROM products p JOIN order_items oi ON p.id = oi.product_id JOIN orders o ON oi.order_id = o.id WHERE o.created_at > NOW() - INTERVAL '180 days' GROUP BY p.id, p.name, p.category HAVING COUNT(DISTINCT oi.order_id) > 50 ORDER BY total_revenue DESC;
Jan  1 03:45:40 pghost postgres[70061]: [1-1] user=readonly LOG: disconnection: session time: 0:33:20.123 user=readonly database=app_db host=192.168.1.104 port=5432
Jan  1 03:50:00 pghost postgres[70062]: [1-1] LOG: connection received: host=192.168.1.107 port=5432
Jan  1 03:50:00 pghost postgres[70062]: [2-1] user=admin,db=postgres,app=psql LOG: connection authorized: user=admin database=postgres
Jan  1 03:55:30 pghost postgres[70063]: [1-1] LOG: temporary file: path "base/16384/pgsql_tmp70063.0", size 52428800
Jan  1 03:55:30 pghost postgres[70063]: [2-1] LOG: temporary file: path "base/16384/pgsql_tmp70063.1", size 20971520
Jan  1 03:55:38 pghost postgres[70063]: [3-1] user=batch_user,db=app_db,app=batch_job LOG: duration: 9456.78 ms statement: UPDATE user_statistics SET total_orders = sq.order_count, total_spent = sq.total_spent, last_order_date = sq.last_order, updated_at = NOW() FROM ( SELECT user_id, COUNT(*) as order_count, SUM(total) as total_spent, MAX(created_at) as last_order FROM orders GROUP BY user_id ) sq WHERE user_statistics.user_id = sq.user_id;
Jan  1 04:00:00 pghost postgres[70240]: [1-1] LOG: checkpoint starting: xlog
Jan  1 04:00:05 pghost postgres[70240]: [2-1] LOG: checkpoint complete: wrote 1152 buffers (7.0%); 1 WAL file(s) added, 0 removed, 1 recycled; write=4.300 s, sync=0.550 s, total=5.000 s; sync files=8, longest=0.210 s, average=0.069 s; distance=9216 kB, estimate=12719 kB; lsn=0/53000028, redo lsn=0/52FFFFF8
Jan  1 04:05:15 pghost postgres[70064]: [1-1] user=app_user LOG: disconnection: session time: 2:20:15.890 user=app_user database=app_db host=172.16.0.40 port=5432
Jan  1 04:10:00 pghost postgres[70065]: [1-1] LOG: connection received: host=172.16.0.90 port=5432
Jan  1 04:10:00 pghost postgres[70065]: [2-1] user=app_user,db=app_db,app=app_server LOG: connection authorized: user=app_user database=app_db
Jan  1 04:15:30 pghost postgres[70066]: [1-1] user=batch_user LOG: disconnection: session time: 1:46:00.345 user=batch_user database=app_db host=10.0.1.90 port=5432
Jan  1 04:20:00 pghost postgres[70067]: [1-1] LOG: connection received: host=10.0.1.100 port=5432
Jan  1 04:20:00 pghost postgres[70067]: [2-1] user=batch_user,db=app_db,app=batch_job LOG: connection authorized: user=batch_user database=app_db
Jan  1 04:25:45 pghost postgres[70068]: [1-1] LOG: temporary file: path "base/16384/pgsql_tmp70068.0", size 104857600
Jan  1 04:25:55 pghost postgres[70068]: [2-1] user=analytics,db=analytics_db,app=python_script LOG: duration: 11789.34 ms statement: WITH daily_metrics AS ( SELECT DATE(created_at) as date, user_id, COUNT(*) as daily_events, SUM(duration) as daily_duration FROM user_events WHERE created_at > NOW() - INTERVAL '30 days' GROUP BY date, user_id ) SELECT user_id, AVG(daily_events) as avg_daily_events, AVG(daily_duration) as avg_daily_duration, MAX(daily_events) as max_daily_events FROM daily_metrics GROUP BY user_id HAVING AVG(daily_events) > 10 ORDER BY avg_daily_events DESC;
Jan  1 04:30:00 pghost postgres[70250]: [1-1] LOG: checkpoint starting: time
Jan  1 04:30:06 pghost postgres[70250]: [2-1] LOG: checkpoint complete: wrote 1408 buffers (8.6%); 0 WAL file(s) added, 0 removed, 2 recycled; write=5.600 s, sync=0.300 s, total=6.000 s; sync files=10, longest=0.110 s, average=0.030 s; distance=11264 kB, estimate=12577 kB; lsn=0/5E000028, redo lsn=0/5DFFFFF8
Jan  1 04:35:20 pghost postgres[70069]: [1-1] user=app_user LOG: disconnection: session time: 1:22:50.678 user=app_user database=app_db host=172.16.0.60 port=5432
Jan  1 04:40:00 pghost postgres[70070]: [1-1] LOG: connection received: host=172.16.0.100 port=5432
Jan  1 04:40:00 pghost postgres[70070]: [2-1] user=app_user,db=app_db,app=app_server LOG: connection authorized: user=app_user database=app_db
Jan  1 04:45:15 pghost postgres[70071]: [1-1] user=backup_user LOG: disconnection: session time: 1:44:45.234 user=backup_user database=postgres host=192.168.1.106 port=5432
Jan  1 04:50:00 pghost postgres[70072]: [1-1] LOG: connection received: host=192.168.1.108 port=5432
Jan  1 04:50:00 pghost postgres[70072]: [2-1] user=readonly,db=app_db,app=reporting_tool LOG: connection authorized: user=readonly database=app_db
Jan  1 04:55:30 pghost postgres[70073]: [1-1] LOG: temporary file: path "base/16384/pgsql_tmp70073.0", size 73400320
Jan  1 04:55:38 pghost postgres[70073]: [2-1] user=batch_user,db=app_db,app=batch_job LOG: duration: 9012.34 ms statement: DELETE FROM session_logs WHERE created_at < NOW() - INTERVAL '30 days' AND session_id NOT IN (SELECT id FROM active_sessions);
Jan  1 05:00:00 pghost postgres[70260]: [1-1] LOG: checkpoint starting: time
Jan  1 05:00:05 pghost postgres[70260]: [2-1] LOG: checkpoint complete: wrote 896 buffers (5.5%); 0 WAL file(s) added, 0 removed, 1 recycled; write=4.200 s, sync=0.700 s, total=5.000 s; sync files=7, longest=0.280 s, average=0.100 s; distance=7168 kB, estimate=12038 kB; lsn=0/65000028, redo lsn=0/64FFFFF8
Jan  1 05:05:45 pghost postgres[70074]: [1-1] user=app_user LOG: disconnection: session time: 1:30:45.567 user=app_user database=app_db host=172.16.0.70 port=5432
Jan  1 05:10:00 pghost postgres[70075]: [1-1] LOG: connection received: host=172.16.0.110 port=5432
Jan  1 05:10:00 pghost postgres[70075]: [2-1] user=app_user,db=app_db,app=app_server LOG: connection authorized: user=app_user database=app_db
Jan  1 05:15:30 pghost postgres[70076]: [1-1] user=admin LOG: disconnection: session time: 0:45:30.123 user=admin database=postgres host=192.168.1.107 port=5432
Jan  1 05:20:00 pghost postgres[70077]: [1-1] LOG: connection received: host=192.168.1.109 port=5432
Jan  1 05:20:00 pghost postgres[70077]: [2-1] user=admin,db=postgres,app=psql LOG: connection authorized: user=admin database=postgres
Jan  1 05:25:15 pghost postgres[70078]: [1-1] LOG: temporary file: path "base/16384/pgsql_tmp70078.0", size 88080384
Jan  1 05:25:24 pghost postgres[70078]: [2-1] user=analytics,db=analytics_db,app=python_script LOG: duration: 10345.67 ms statement: SELECT category, COUNT(*) as total_products, AVG(price) as avg_price, MIN(price) as min_price, MAX(price) as max_price, SUM(stock) as total_stock FROM products WHERE active = true GROUP BY category ORDER BY total_products DESC;
Jan  1 05:30:00 pghost postgres[70270]: [1-1] LOG: checkpoint starting: time
Jan  1 05:30:04 pghost postgres[70270]: [2-1] LOG: checkpoint complete: wrote 768 buffers (4.7%); 0 WAL file(s) added, 0 removed, 1 recycled; write=3.600 s, sync=0.350 s, total=4.000 s; sync files=6, longest=0.150 s, average=0.058 s; distance=6144 kB, estimate=11452 kB; lsn=0/6B000028, redo lsn=0/6AFFFFF8
Jan  1 05:35:40 pghost postgres[70079]: [1-1] user=app_user LOG: disconnection: session time: 1:20:40.890 user=app_user database=app_db host=172.16.0.80 port=5432
Jan  1 05:40:00 pghost postgres[70080]: [1-1] LOG: connection received: host=172.16.0.120 port=5432
Jan  1 05:40:00 pghost postgres[70080]: [2-1] user=app_user,db=app_db,app=app_server LOG: connection authorized: user=app_user database=app_db
Jan  1 05:45:30 pghost postgres[70081]: [1-1] user=batch_user LOG: disconnection: session time: 2:00:30.234 user=batch_user database=app_db host=10.0.1.100 port=5432
Jan  1 05:50:00 pghost postgres[70082]: [1-1] LOG: connection received: host=10.0.1.110 port=5432
Jan  1 05:50:00 pghost postgres[70082]: [2-1] user=batch_user,db=app_db,app=batch_job LOG: connection authorized: user=batch_user database=app_db
Jan  1 05:55:15 pghost postgres[70083]: [1-1] LOG: temporary file: path "base/16384/pgsql_tmp70083.0", size 115343360
Jan  1 05:55:26 pghost postgres[70083]: [2-1] user=analytics,db=analytics_db,app=python_script LOG: duration: 12678.90 ms statement: WITH cohort_data AS ( SELECT user_id, DATE_TRUNC('month', MIN(created_at)) as cohort_month, DATE_TRUNC('month', created_at) as order_month, COUNT(*) as order_count FROM orders WHERE created_at > NOW() - INTERVAL '12 months' GROUP BY user_id, cohort_month, order_month ) SELECT cohort_month, order_month, COUNT(DISTINCT user_id) as active_users, SUM(order_count) as total_orders FROM cohort_data GROUP BY cohort_month, order_month ORDER BY cohort_month, order_month;
Jan  1 06:00:00 pghost postgres[70280]: [1-1] LOG: checkpoint starting: xlog
Jan  1 06:00:06 pghost postgres[70280]: [2-1] LOG: checkpoint complete: wrote 1536 buffers (9.4%); 1 WAL file(s) added, 0 removed, 2 recycled; write=5.400 s, sync=0.500 s, total=6.000 s; sync files=11, longest=0.190 s, average=0.045 s; distance=12288 kB, estimate=12288 kB; lsn=0/77000028, redo lsn=0/76FFFFF8
Jan  1 23:59:30 pghost postgres[70520]: [1-1] LOG: checkpoint starting: time
Jan  1 23:59:35 pghost postgres[70520]: [2-1] LOG: checkpoint complete: wrote 1024 buffers (6.3%); 0 WAL file(s) added, 0 removed, 1 recycled; write=4.800 s, sync=0.150 s, total=5.000 s; sync files=8, longest=0.070 s, average=0.019 s; distance=8192 kB, estimate=11906 kB; lsn=0/83000028, redo lsn=0/82FFFFF8
